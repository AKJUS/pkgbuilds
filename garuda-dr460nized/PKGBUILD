# Maintainer: dr460nf1r3 <dr460nf1r3 at garudalinux dot org>
# Co-Maintainer: FGD

pkgname=garuda-dr460nized
pkgver="4.5.8"
_commit='8eb3d74f5d9bfe73d533b67bc661c8968796c104'
pkgrel=6
arch=('any')
url="https://gitlab.com/garuda-linux/themes-and-settings/settings/$pkgname"
license=('GPL')
source=("https://gitlab.com/garuda-linux/themes-and-settings/settings/garuda-dr460nized/-/archive/${_commit}/garuda-dr460nized-${_commit}.tar.gz"
  "dr460nized-patch.hook")
sha256sums=('4653256c1b768f6630ec96d4fe820b6d4a145800edff51484418b8495723c9c1'
            '9414ef07085c185a9417e68d1ce0ba469586f7a3d12bcfe1789e28c5ef0cd3ce')
pkgdesc='Dr460nized settings'
install=$pkgname.install
provides=('garuda-desktop-settings')
conflicts=('garuda-desktop-settings' 'plasma5-applets-window-appmenu' 'plasma5-applets-window-buttons' 'plasma5-applets-window-title' 'plasma5-applets-betterinlineclock-git' 'plasma5-wallpapers-blurredwallpaper')
replaces=('garuda-dr460nized-next')

package() {
  install -d "$pkgdir"/etc
  cp -rf "$srcdir"/$pkgname-$_commit/etc "$pkgdir"
  install -d "$pkgdir"/usr
  cp -rf "$srcdir"/$pkgname-$_commit/usr "$pkgdir"

  install -d "$pkgdir"/usr/share/libalpm/hooks
  install -Dm644 dr460nized-patch.hook "$pkgdir"/usr/share/libalpm/hooks/80-dr460nized-patch.hook

  depends=('beautyline'
    'garuda-common-settings'
    'garuda-fish-config'
    'garuda-icons'
    'garuda-wallpapers'
    'kvantum'
    'kvantum-qt5'
    'plasma-applet-window-buttons'
    'plasma-systemmonitor'
    'plasma5-themes-sweet-full-git'
    'plasma6-applets-window-title'
    'plasma6-applets-panel-colorizer'
    'plasma6-wallpapers-blurredwallpaper'
    'ttf-fira-sans'
    'ttf-firacode-nerd'
    'xdg-desktop-portal-gtk') # fixes Wayland GTK theming
}
