# Maintainer: dr460nf1r3 <dr460nf1r3 at garudalinux dot org>
# Contributor: Librewish <librewish@gmail.com>

pkgname=garuda-network-assistant
pkgver="1.1.4"
_commit='8fde2a64566c6065703e4279e7d08ec7f00d1d67'
pkgrel=1
pkgdesc="A Boot options utility for Garuda Linux"
arch=('any')
url="https://gitlab.com/garuda-linux/applications/garuda-network-assistant"
license=('GPL3')
depends=('qt6-base' 'qt6-tools' 'cmake' 'xdg-utils' 'polkit' 'wget' 'net-tools' 'linux-wifi-hotspot' 'traceroute' 'wireless_tools')
makedepends=('git')
groups=('garuda')
source=("https://gitlab.com/garuda-linux/applications/garuda-network-assistant/-/archive/${_commit}/garuda-network-assistant-${_commit}.tar.gz")
sha256sums=('SKIP')

build() {
  cmake -B build -S "$pkgname-$_commit" \
    -DCMAKE_BUILD_TYPE='Release' \
    -DCMAKE_INSTALL_PREFIX='/usr' \
    -Wno-dev
  make -C build
}

package() {
  make -C build DESTDIR="$pkgdir" install
}
