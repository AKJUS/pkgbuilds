# Maintainer: TNE <tne@garudalinux.org>
# Maintainer: dr460nf1r3 <dr460nf1r3 at garudalinux dot org>

pkgname=garuda-update
pkgdesc="The Garuda Linux update command, in a separate package to allow separate updating"
pkgver=4.6.5
pkgrel=1
arch=('any')
license=('GPL')
depends=('coreutils' 'sed' 'gawk' 'pacman' 'wget')
backup=(etc/garuda/garuda-update/config)
source=("auto-pacman"
	"config"
	"garuda-update"
	"logrotate"
	"main-update"
	"update-helper-scripts")
sha512sums=('31c4957c9d44b97764a56bed35327b76e142937ef399dd9c73105ae46550c259ed2737ce193681ac0cc15a7ea195666f0e25b80a2b1e96ee00597ac01fe029f1'
            'd5dbe3e4a47e9b5301d1e849c54f2632540f14878e6af4f11979d74fc0be1c36321229cf5128924251431087aa42c497c0ab57e0743973c9baaeccc24114e2e1'
            '8a123593212364febe2b717b6d70b762ebb3a5135369cf3923de94ad8a87261167a31cc85f0223ff76d413f0491ae5e937dbb577294713de55e2ddfe1ec0790e'
            'fd112c212c43d631740be11064e1fd4cc3023d0951e945445173def152e8930189575654ddac0eb34ffd6a2eb5670c47993aeda66ab8fa089583ec973026e7de'
            '2918c0115c62c5111b12338aba3df75605911b708f597ce8287c2b95fdb1ceec65708b3534913de7910a18bd020f54a9f115efe6573fdc217480f255b298837c'
            '0a27f1e60582d1035383b5b24d39ce8d3c82159faedd81b871cdba0b0c5653d2b20957e87583615bb6f3507f72964f2378ecef67af6e4f1f01b557104aa44320')

package() {
	install -Dm755 garuda-update "$pkgdir"/usr/bin/garuda-update
	ln -s /usr/bin/garuda-update "$pkgdir"/usr/bin/update
	install -Dm755 update-helper-scripts "$pkgdir"/usr/lib/garuda/garuda-update/update-helper-scripts
	install -Dm755 main-update "$pkgdir"/usr/lib/garuda/garuda-update/main-update
	install -Dm755 auto-pacman "$pkgdir"/usr/lib/garuda/garuda-update/auto-pacman
	install -Dm644 logrotate "$pkgdir"/etc/logrotate.d/garuda-update
	install -Dm644 config "$pkgdir"/etc/garuda/garuda-update/config
}
